<% if @person.errors.any? %>
  $("#error_explanation_person").html('<ul class="collection with-header"><li class="collection-header"><h4><%= j pluralize(@person.errors.count, "error") %> prohibited this person from being saved:</h4></li><% @person.errors.full_messages.each do |msg| %><li class="collection-item"><%= j msg %></li><% end %></ul>');
<% else %>
  $("#error_explanation_person").html('');
  $("#people").append("<%= escape_javascript(render 'people/admin', person: @person) %>")
  $("#edit_person_<%= @person.id %> .delete_person").on("ajax:success", function(e, data, status, xhr) {
    return $(this).closest("li.person").remove();
  });
  $("#new_person").find(":input[type=text]").val("");
  Materialize.updateTextFields();
<% end %>
